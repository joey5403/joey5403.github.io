<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Reducing technical debt from feature flags | 黄庄以北</title>
<meta name=keywords content="feature toggle"><meta name=description content="Reducing technical debt from feature flags Read time: 16 minutes Last edited: Oct 15, 2024 Overview This guide provides ways to reduce and eliminate technical debt related to feature flags using LaunchDarkly. Like all debt, technical debt accumulates over time, but you can mitigate that debt over time if you put effective processes in place before you need them. In this guide, we&rsquo;ll explore: The challenge of technical debt The"><meta name=author content="Joey"><link rel=canonical href=https://joeyzheng.tech/posts/reducing-technical-debt-from-feature-flags/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://joeyzheng.tech/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://joeyzheng.tech/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://joeyzheng.tech/favicon-32x32.png><link rel=apple-touch-icon href=https://joeyzheng.tech/apple-touch-icon.png><link rel=mask-icon href=https://joeyzheng.tech/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://joeyzheng.tech/posts/reducing-technical-debt-from-feature-flags/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://joeyzheng.tech/posts/reducing-technical-debt-from-feature-flags/"><meta property="og:site_name" content="黄庄以北"><meta property="og:title" content="Reducing technical debt from feature flags"><meta property="og:description" content="Reducing technical debt from feature flags Read time: 16 minutes Last edited: Oct 15, 2024 Overview This guide provides ways to reduce and eliminate technical debt related to feature flags using LaunchDarkly. Like all debt, technical debt accumulates over time, but you can mitigate that debt over time if you put effective processes in place before you need them. In this guide, we’ll explore: The challenge of technical debt The"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-20T00:00:00+00:00"><meta property="article:modified_time" content="2024-10-20T00:00:00+00:00"><meta property="article:tag" content="Feature Toggle"><meta name=twitter:card content="summary"><meta name=twitter:title content="Reducing technical debt from feature flags"><meta name=twitter:description content="Reducing technical debt from feature flags Read time: 16 minutes Last edited: Oct 15, 2024 Overview This guide provides ways to reduce and eliminate technical debt related to feature flags using LaunchDarkly. Like all debt, technical debt accumulates over time, but you can mitigate that debt over time if you put effective processes in place before you need them. In this guide, we&rsquo;ll explore: The challenge of technical debt The"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://joeyzheng.tech/posts/"},{"@type":"ListItem","position":2,"name":"Reducing technical debt from feature flags","item":"https://joeyzheng.tech/posts/reducing-technical-debt-from-feature-flags/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Reducing technical debt from feature flags","name":"Reducing technical debt from feature flags","description":"Reducing technical debt from feature flags Read time: 16 minutes Last edited: Oct 15, 2024 Overview This guide provides ways to reduce and eliminate technical debt related to feature flags using LaunchDarkly. Like all debt, technical debt accumulates over time, but you can mitigate that debt over time if you put effective processes in place before you need them. In this guide, we\u0026rsquo;ll explore: The challenge of technical debt The","keywords":["feature toggle"],"articleBody":"Reducing technical debt from feature flags Read time: 16 minutes Last edited: Oct 15, 2024 Overview This guide provides ways to reduce and eliminate technical debt related to feature flags using LaunchDarkly. Like all debt, technical debt accumulates over time, but you can mitigate that debt over time if you put effective processes in place before you need them.\nIn this guide, we’ll explore:\nThe challenge of technical debt The lifecycle of a flag Naming conventions Using tags Code references Deprecating, archiving, and deleting flags Just like feature flags should be a core engineering practice, so should a strategy to address technical debt. LaunchDarkly can help you by automatically identifying flags that need code removal or are ready to archive.\nPrerequisites To complete this guide, you must have the following prerequisites:\nProficiency and understanding of creating a feature flag in LaunchDarkly Knowledge of your organization’s release process Concepts You should understand these concepts before you read this guide:\nTechnical debt Technical debt is a concept in software development that describes the implied cost of rework required in the future because of short-term, limited solutions. It is often caused by choosing a fast, limited solution now instead of using a better approach that would take longer. A common reason for this is that necessary work must be delayed to meet a deliverable or a deadline.\nAs this debt accumulates, it is harder to maintain the system and code, which can impact the speed of development and efficiency of your codebase in the future.\nOne way technical debt can accumulate is when you fail to maintain your feature flags.\nSoftware delivery lifecycle The software delivery lifecycle (SDLC) is a process followed for a software project. The process describes how to develop, maintain, and modify software. The stages of the software delivery cycle are:\nPlanning Analysis Design Implementation Testing and integration Maintenance Temporary and permanent flags Flags are either temporary or permanent. A temporary flag has a limited lifespan. Once the flag has fulfilled its business purpose, remove it from the codebase. Temporary flags include flags for release management, experiments, and interoperability testing.\nPermanent flags provide control for an extended time after the release of a feature. They will potentially exist for the life of a feature. Permanent flags include flags for entitlements, load shedding, custom-branding, or accessibility.\nChallenges of technical debt Every feature should have a flag, but if you don’t regularly archive flags, you can accumulate a lot of debt.\nCluttered code is harder to maintain and test. Unnecessary code remains because nobody remembers why it existed, and there is a fear that things will break if it is removed. Failure to remove flags leads to cluttered code.\nNot only do you want to remove the references to the flag in your code, but you also don’t want to send evaluation settings for flags you don’t need. When you use features like Data Export to track the impact of your rollouts, your database may be overwhelmed with unnecessary event data. You don’t want to transfer and store data on flags that should have been archived three months ago.\nFailure to remove flags clutters your Flags list, as well as your code. You can’t quickly find the flag you need to toggle. This may seem like a minor inconvenience, but if you need to quickly toggle a flag’s targeting off, having to scroll through hundreds of flags adds time. But cluttered code and extensive Flags lists aren’t the only challenges.\nYou also run the risk of an old flag evaluating to a state that is invalid or undesirable. When you’re rolling out a new change such as an updated user interface (UI), it is common to keep the current UI as the default version until you have confidence in the new one. Once the flag is serving 100% of contexts the new UI, the flag has reached the end of its lifecycle and should be archived. Failure to do this runs the risk of falling back to the undesired old UI if a flag gets turned off or an SDK failure results in using the fallback value.\nTest the fallback values of permanent flags periodically to ensure they are up to date and delivering valid states. To learn more about fallback values, read Change default flag values .\nThe flag lifecycle A flag may go through several stages over the course of its lifecycle, including:\nLive Ready for code removal Ready to archive Archived Deprecated Deleted The lifecycle stage is based on what is happening across all environments. Not all flags will go through all lifecycle stages.\nFlags are ready for code removal if they are temporary flags that are either not being evaluated any more (“Inactive” status), or are serving the same variation to all contexts (“Launched” status). An “Inactive” status may mean that you’re no longer running the code which evaluates the flag. A “Launched” status likely means that any gradual rollout of a new feature has ended, and the feature is now live for all contexts. The flag is still evaluated every time the code is run, but because it returns the same variation for everyone, it’s no longer needed. You should now either remove the flag from your code and then archive the flag, or turn the flag into a permanent flag that you can use as a circuit breaker to disable the feature entirely.\nFor example, consider this flag:\nA flag with status of “Inactive” and a lifecycle stage of “Ready to archive.”\nThis flag’s status is “Inactive,” and it is marked as “Ready to archive.” No one is using the flag. You can remove it from your code and archive it.\nLaunchDarkly automatically determines if a flag is ready to archive by checking the flag in all of your critical environments for code references, age, status, and whether it is a prerequisite. You can view flags that are ready to archive from the Flags list. Each flag that is ready to archive has a “Ready to archive” indicator in the Flags list. Click the indicator to begin the archival process.\nTo find all flags that need code removal or are ready to archive, navigate to the Flags list and open the Filters menu. Under “Lifecycle,” select Needs code removal or Ready to archive. To learn more, read Archiving flags .\nIf you don’t remove and archive flags that no one is using, they can become a form of technical debt. However, do not archive flags solely because of their status. Be sure the flag is no longer in use. To learn more, read Flag statuses and lifecycle stages .\nYou may sometimes see flags on the Flags list that you have removed from your code, but appear to still be active. To troubleshoot this, read the LaunchDarkly Knowledge Base articles How to investigate removed flags that appear active and Flag removed from code is still showing evaluations .\nOrganizational methods for reducing flag debt This section discusses processes you can follow within your organization to reduce or eliminate flag debt.\nCreate organization-wide naming conventions A shared naming convention for your organization’s flags is an effective way to eliminate debt. Flags should have understandable, intuitive names.\nFor example, imagine a flag named FF123_do_not_delete_this_72. When the developer that created the flag leaves the company, the person who takes over their work cannot necessarily tell what that flag is supposed to do. The name of that flag is too obscure to easily determine if the flag is important or not, and taking time to find the flag references in the codebase, determine the results of its variations, and calculate the impact of archiving the flag all seem less urgent than other work.\nIf flags do not have human-readable names, they can become technical debt.\nTo learn more, read Flag conventions .\nWrite useful descriptions Use descriptions to add more context to the flag. Unlike flag names, you can update descriptions. They can include detailed information, such as the date the flag was last reviewed, the purpose of the flag, and more.\nDescriptions are fast ways to help other account members learn what a flag does and what its impact is.\nMinimize flag scope A flag should have limited scope. Having a flag that controls more than one feature action at a time can be confusing and can make it harder to troubleshoot problems.\nImagine the smallest unit of logic needed for the most responsive flag. If there are multiple parts to a feature that have to work together, you can create a main flag with other flags dependent on it.\nFor example, you launch a new dashboard with three widgets. To manage them, create four flags: one flag for each widget, with a dependency on a fourth flag for the main dashboard. In this scenario, if one widget causes problems, you can disable it and still serve the dashboard with the two remaining widgets.\nOnly using flags where necessary You do not need to use feature flags for every change you make to your codebase. Limit the use of flags in certain situations to help manage your flag debt.\nWe recommend against using flags in the following scenarios:\nAs a replacement for secrets management, or for targeting on secrets or credentials. As a replacement for configuration management. Don’t use feature flags with configuration that is static or rarely changes. Only use flags for this type of configuration if you need an emergency shut-off switch. Don’t use feature flags on configuration that, if disabled, would completely block the application from starting. For example, a database hostname or API URLs. As a database or file store. Instead, keep variations small and avoid complex JSON payloads where possible. Consider breaking up complex flags into smaller individual flags. For every commit, sprint, or other small change. Flagging very small changes is usually not worth the cost of flag upkeep. Instead, wrap features as a whole. Mark flags as temporary When you create or edit a flag, you can indicate whether or not the flag is temporary by selecting the This is a temporary flag checkbox on the flag’s settings page.\nYou can also filter flags based on whether they are temporary or permanent. This can help you find flags to archive. When someone tries to archive a permanent flag, a warning appears. This can help prevent flags from being archived unnecessarily.\nWhen you conduct a flag review, confirm the This is a temporary flag checkbox is unchecked for every permanent flag.\nTo learn more, read Other flag settings .\nUse effective tagging conventions Tags are strings you can attach to any flag within LaunchDarkly. They help you group resources together.\nYou can control the spread of technical debt with tags by including a tag with a sprint designation or deploy date. When you conduct your regularly scheduled reviews, you can search for specific sprints or deploy dates.\nTag case sensitivity\nTags are case sensitive. For example, searching for Permanent tags and permanent tags will yield different results.\nInclude flags in your workflow’s definition of “done” Each company and team within an organization may have their own standards for what constitutes “done” on a task or project. Done indicates the project can be removed from the list of current tasks. For example, a team may consider the code for a task to be incomplete until it has passed automated tests.\nDone means different things for different teams. A feature may be done when it rolls out to 100% of contexts, or when it rolls out to a specific set of contexts. When a feature is fully rolled out, or an experiment is ended, that’s the best time to clean up the flag. When scheduling the work for rolling out a feature, include the flag cleanup work in the schedule. A feature is done when the flag is archived.\nIf the flag you use for a release will convert to a permanent flag, the definition of done should be when the setting on the flag changes to indicate it is permanent. You can make archiving flags part of each sprint or project end. Using this method, you’ll do the work to archive the flag when the context is fresh.\nTo learn more about integrating flag archiving behavior into your feature development processes, read the LaunchDarkly blog article How to use feature flags without technical debt .\nPlan to remove flags during flag creation When creating a pull request to add a flag into your code, you can also create a second pull request which removes the flag. This pull request should simply remove the flag code without other changes. This minimizes the number of conflicts to resolve even if, as often happens, the code for the new feature is updated before the rollout is finished.\nThe code may change before you merge the branch, but creating it gives you somewhere to start when you’re ready to clean up the code. The presence of the branch also serves as a reminder to remove the flag when it’s no longer needed.\nRetire inactive projects You can identify entire projects that may be inactive by the age and activity level of its flags. If no one has created new flags within the project in the last three months, and it does not contain any active permanent flags, you may be able to delete the project. To learn how, read Delete projects .\nReceive flag removal alerts in Slack The LaunchDarkly Slack app can send you notifications when it’s time to remove flags from code. To learn more, read Receive alerts when flags are ready to remove .\nMethods for reducing flag debt in LaunchDarkly LaunchDarkly provides several tools to help you reduce flag debt.\nUse the flag archive checks On the Flags list, use the Display menu to show archive checks for your flags. When archive checks are selected, the Flags list indicates whether a flag is needs code removal or is ready to archive. You can also use the Filter menu to filter for flags that need code removal or are ready to archive. To learn more, read Archiving flags and Flag statuses and lifecycle stages .\nUse the flag health metric Engineering insights is an Enterprise feature\nEngineering insights is available to customers on an Enterprise plan. To learn more, read about our pricing . To upgrade your plan, contact Sales .\nIf you use engineering insights, you can use the flag health metric to help reduce flag debt. For most organizations, a lower stale flag percentage is desirable.\nWhen you look at flag health in one environment, you might want to decrease your stale flag percentage because most stale flags represent tech debt that you need to clean up or remove.\nWe strongly recommend looking at flag health across environments as well. Differences in flag statuses between environments could indicate a problem. For example, if a flag is “Launched” in all but one environment and “Inactive” in the final environment, maybe you forgot to roll it out. You can use the “Select environments to compare status” feature as an opportunity to double-check your release procedures. To learn more, read Flag health .\nHere are some strategies to decrease your stale flag percentage:\nRolling out flags in all relevant environments Removing or archiving flags when you’re done with them Marking flags permanent, when it’s warranted Focusing too much on decreasing your stale flag percentage can lead to bad practices in your flag health processes. For example, you can mark a temporary flag as permanent to decrease your stale flag percentage, because only temporary flags can be stale. But most of the time, you should archive a temporary flag when it is no longer needed, not mark it as permanent.\nInstead, discuss your overall goals for flag health as a team. You can talk through the flag lifecycle and decide on organizational standards for topics including naming conventions, tags, making flags permanent, and deprecating, archiving, and deleting flags.\nDeprecate, archive, and delete flags LaunchDarkly provides the options to deprecate, archive, and delete flags. We strongly recommend deprecating or archiving flags rather than deleting them, because an archived flag’s history remains in your LaunchDarkly project. To learn how, read Deprecating, archiving, and deleting flags .\nIf you use engineering insights, you can archive flags directly from the flag health page.\nDeprecate or archive flags instead of deleting them whenever possible\nIf you delete a flag, LaunchDarkly deletes all references to the flag, including its history. Deleting a flag also means a member could make a new flag with the same key as the old deleted flag. If this happens and the old flag’s key still exists in your codebase, your code could begin referencing the wrong flag. This can have serious and unpredictable effects on your app performance.\nLaunchDarkly SDKs consider archived flags “gone.” When you select a flag to archive, the panel takes you through the archiving process. LaunchDarkly warns you if you try to archive a flag that is still serving variations, or that is detected in your code through code references.\nA healthy project has a high ratio of archived to unarchived flags. A general guideline is that any project over three months old should have archived at least one flag. If it has not, you may want to examine your archival practices. An appropriate time-to-archive varies depending on your business needs, but a general best practice is to archive flags quarterly. This means a healthy time-to-archive is in the 90-120 day range.\nGenerally, a project should have fewer deleted flags than archived flags. If you have more deleted flags than archived flags, or if a project has more than ten deleted flags, you may need to review your archiving and deleting practices. You may choose to restrict who can delete flags by assigning them a custom role. To learn more, read Custom roles .\nCustom roles is an Enterprise feature\nCustom roles are available to customers on an Enterprise plan. To learn more, read about our pricing . To upgrade your plan, contact Sales .\nSchedule regular flag reviews Schedule regular review cycles on a monthly or quarterly basis to identify flags to archive. Some companies dedicate sprints to tackling technical debt. If you do this, include a review of your feature flags, too.\nSome teams schedule a regular “Flag Cleanup Day.” In preparation, a team member produces a list of flags to be cleaned up. The list is divided up amongst the team. Then, each team member goes through their assigned flags and, for each flag, produces a patch or pull request which removes the flag from the code.\nIn addition to temporary flags, you should also review any permanent flags to determine that they are still necessary. As features change, the need for the flags associated with them can also change.\nFor example, you can filter by flags that you or your team maintain, and by the lifecycle stage of the flag. LaunchDarkly automatically indicates each flag that is “Ready for code removal” or “Ready to archive.” You can save your list filter configurations to return to later, making it easy to regularly check for flags to archive. To learn how, read Save shortcuts to filtered Flags lists .\nIf you use engineering insights, you can also filter and archive flags from the flag health page. The stale Flags list shows information about flags in a selected environment that we recommend you remove.\nYou can use the search and filter options to refine this list into a different subset of flags:\nSearch by flag key Filter by flag maintainer, tags, and ready to archive or needs review Sort by flag age You can select additional environments to compare the flag state against. This helps you verify that you can archive the flag without unintended consequences.\nCompare environments.\nIf you choose additional environments, LaunchDarkly performs the checks again and highlights stale flags. To learn more, read Flag health .\nUse code references to find and remove references to flags Archiving a flag removes it from the Flags list and your app’s contexts no longer encounter it.\nBefore you do this, remove the flag from your codebase. Code references let you quickly find where in your source code feature flags are referenced. This simplifies the process of finding code to remove in projects and files.\nTo access code references:\nNavigate to the Flags list and find the flag you wish to remove. Click the flag’s name to view the flag’s details. Click the repository name in the “Code references” section of the right sidebar to view the flag’s code references: The “Code references” tab of a feature flag.\nThe flag health metric also automatically verifies whether or not there are code references for your flags.\nAfter you remove all code references mentioning that flag from the codebase and rerun the scanning tool, LaunchDarkly creates an extinction event. This event appears as a message on the Code references tab of the feature flag. To learn more, read About extinction events .\nConclusion In this guide, you learned about:\nChallenges of technical debt The flag lifecycle Processes and features within LaunchDarkly to help control flag debt For additional discussion on the lifecycle of a feature flag, read the ebook Effective Feature Management .\n减少特性标志的技术债务 阅读时间：16分钟 最后编辑：2024年10月15日 概览 本指南提供了使用LaunchDarkly减少和消除与特性标志相关的技术债务的方法。像所有债务一样，技术债务会随着时间积累，但如果您在需要之前就建立有效的流程，就可以随着时间减轻这些债务。\n在本指南中，我们将探讨：\n技术债务的挑战 标志的生命周期 命名约定 使用标签 代码引用 弃用、归档和删除标志 就像特性标志应该是核心工程实践一样，解决技术债务的策略也应该是。LaunchDarkly可以通过自动识别需要代码移除或准备归档的标志来帮助您。\n先决条件 要完成本指南，您必须具备以下先决条件：\n熟练掌握在LaunchDarkly中创建特性标志 了解您组织的发布流程 概念 在阅读本指南之前，您应该了解以下概念：\n技术债务 技术债务是软件开发中的一个概念，描述了由于未来需要重做的工作而产生的隐含成本，因为短期内采用了有限的解决方案。这通常是因为为了满足交付物或截止日期，必须延迟必要的工作而造成的。\n随着这种债务的积累，系统和代码的维护变得更加困难，这可能会影响未来开发的速度和代码库的效率。\n技术债务积累的一种方式是未能维护您的特性标志。\n软件交付生命周期 软件交付生命周期（SDLC）是软件项目遵循的一个过程。该过程描述了如何开发、维护和修改软件。软件交付周期的阶段包括：\n计划 分析 设计 实施 测试和集成 维护 临时和永久标志 标志要么是临时的，要么是永久的。临时标志有有限的生命周期。一旦标志实现了其业务目的，就将其从代码库中移除。临时标志包括用于发布管理、实验和互操作性测试的标志。\n永久标志在功能发布后提供长时间的控制。它们可能会存在整个功能的生命期。永久标志包括用于权利、负载削减、自定义品牌或可访问性的标志。\n技术债务的挑战 每个功能都应该有一个标志，但如果不定期归档标志，您可能会积累大量债务。\n杂乱无章的代码更难维护和测试。不必要的代码仍然存在，因为没有人记得它为什么存在，并且担心如果移除它会导致问题。未能移除标志会导致代码杂乱无章。\n您不仅希望从代码中移除标志的引用，还不希望发送您不需要的标志的评估设置。当您使用像数据导出这样的功能来跟踪您的发布影响时，您的数据库可能会被不必要的事件数据淹没。您不希望传输和存储应该在三个月前归档的标志的数据。\n未能移除标志会使您的标志列表和代码变得杂乱无章。您不能快速找到需要切换的标志。这可能看起来像是一个次要的不便，但如果需要快速切换标志的目标，不得不滚动浏览数百个标志会增加时间。但是，代码杂乱和庞大的标志列表并不是唯一的挑战。\n您还可能面临旧标志评估为无效或不理想状态的风险。当您推出新的更改，如更新的用户界面（UI）时，通常的做法是将当前UI作为默认版本，直到您对新版本有信心。一旦标志为100%的上下文服务了新UI，标志就达到了其生命周期的终点，应该被归档。未能这样做就有回退到不想要的旧UI的风险，如果标志被关闭，或者SDK失败导致使用回退值。\n定期测试永久标志的回退值，以确保它们是最新的并提供有效的状态。要了解更多关于回退值的信息，请阅读更改默认标志值 。\n标志生命周期 标志在其生命周期中可能会经历几个阶段，包括：\n活跃 准备代码移除 准备归档 已归档 已弃用 已删除 生命周期阶段基于所有环境中发生的情况。并非所有标志都会经历所有生命周期阶段。\n如果标志是临时标志，并且不再被评估（“非活跃”状态），或者对所有上下文提供相同的变体（“已发布”状态），则标志准备进行代码移除。“非活跃”状态可能意味着您不再运行评估标志的代码。“已发布”状态可能意味着任何新功能的逐步推出已经结束，现在该功能对所有上下文都是活跃的。标志仍然每次运行代码时都被评估，但由于它对每个人都返回相同的变体，因此不再需要。您现在应该从代码中移除标志，然后归档标志，或者将标志转换为永久标志，您可以使用它作为断路器完全禁用该功能。\n例如，考虑这个标志：\n一个状态为“非活跃”且生命周期阶段为“准备归档”的标志。\n这个标志的状态是“非活跃”，并且被标记为“准备归档”。没有人使用这个标志。您可以从代码中移除它并归档它。\nLaunchDarkly通过检查您的所有关键环境 中的标志、年龄、状态和是否为先决条件，自动确定标志是否准备归档。您可以从标志列表中查看准备归档的标志。每个准备归档的标志在标志列表中都有一个“准备归档”的指示器。单击指示器开始归档过程。\n要找到所有需要代码移除或准备归档的标志，请导航到标志列表并打开筛选器菜单。在“生命周期”下，选择需要代码移除或准备归档。要了解更多信息，请阅读归档标志 。\n如果您不移除和归档没有人使用的标志，它们可能成为一种技术债务。然而，不要仅因为它们的状态就归档标志。确保标志不再被使用。要了解更多信息，请阅读标志状态和生命周期阶段 。\n有时您可能会在标志列表上看到您已经从代码中移除的标志，但它们似乎仍然活跃。要进行故障排除，请阅读LaunchDarkly知识库文章如何调查看起来活跃的已移除标志 和代码中已移除的标志仍然显示评估 。\n编写有用的描述 使用描述为标志添加更多上下文。与标志名称不同，您可以更新描述。它们可以包括详细的信息，例如标志上次审查的日期、标志的目的等。\n描述是帮助其他账户成员快速了解标志功能及其影响的便捷方式。\n最小化标志范围 一个标志应该具有有限的范围。一个标志如果同时控制多个功能动作，可能会造成混淆，并且可能使得问题排查变得更加困难。\n想象一下，对于最灵敏的标志所需的最小逻辑单元是什么。如果一个功能有多个部分需要协同工作，您可以创建一个主标志，并让其他标志依赖于它。\n例如，您启动了一个带有三个小部件的新仪表板。为了管理它们，创建四个标志：每个小部件一个标志，以及一个依赖于主仪表板的第四个标志。在这种情况下，如果一个小部件出现问题，您可以禁用它，仍然可以用剩下的两个小部件提供仪表板服务。\n仅在必要时使用标志 您不需要对代码库中的每个更改都使用特性标志。在某些情况下限制标志的使用，可以帮助管理您的标志债务。\n我们建议不要在以下情况下使用标志：\n作为秘密管理的替代品，或用于针对秘密或凭证的目标。 作为配置管理的替代品。 不要将特性标志用于静态或很少更改的配置。只有在需要紧急关闭开关时，才使用标志进行此类配置。 不要在禁用后会完全阻止应用程序启动的配置上使用特性标志。例如，数据库主机名或API URL。 作为数据库或文件存储。相反，保持变体小，并在可能的情况下避免复杂的JSON负载。考虑将复杂的标志分解为更小的单个标志。 对于每次提交、冲刺或其他小更改。标记非常小的更改通常不值得维护标志的成本。相反，将功能作为一个整体进行包装。 将标志标记为临时 当您创建或编辑标志时，可以通过在标志的设置页面上选择这是一个临时标志复选框来指示标志是否为临时标志。\n您还可以根据标志是临时的还是永久的来过滤标志。这可以帮助您找到要归档的标志。当有人尝试归档一个永久标志时，会出现警告。这可以防止标志被不必要地归档。\n当您进行标志审查时，确认每个永久标志的这是一个临时标志复选框未被选中。\n要了解更多信息，请阅读其他标志设置 。\n使用有效的标记约定 标签是您可以附加到LaunchDarkly中任何标志的字符串。它们帮助您将资源分组。\n您可以通过包含带有冲刺指定或部署日期的标签来用标签控制技术债务的传播。当您进行定期审查时，可以搜索特定的冲刺或部署日期。\n标签大小写敏感\n标签是大小写敏感的。例如，搜索Permanent标签和permanent标签将产生不同的结果。\n在工作流程的定义中包含标志 每个公司和组织内的团队可能都有自己的标准，以确定任务或项目何时算作“完成”。完成表示项目可以从当前任务列表中移除。例如，一个团队可能认为，除非任务的代码通过了自动化测试，否则任务的代码不完整。\n对于不同的团队，“完成”意味着不同的事情。一个功能可能在它推广到100%的上下文中时算作完成，或者当它推广到特定一组上下文时算作完成。当一个功能完全推出，或者一个实验结束时，那是清理标志的最佳时机。在安排功能推广的工作时，将标志清理工作包含在计划中。当标志被归档时，一个功能就算完成了。\n如果您用于发布的旗帜将转换为永久标志，则完成的定义应该是当标志设置更改以表明它是永久的时候。您可以使归档标志成为每个冲刺或项目结束的一部分。使用这种方法，当上下文新鲜时，您将完成归档标志的工作。\n要了解更多关于如何将标志归档行为集成到您的功能开发流程中，阅读LaunchDarkly博客文章如何在不产生技术债务的情况下使用特性标志 。\n在标志创建期间计划移除标志 当您创建一个拉取请求将标志添加到您的代码时，您也可以创建一个第二个拉取请求来移除该标志。这个拉取请求应该只移除标志代码，而没有其他更改。这最小化了即使通常发生的情况，即新功能代码在发布完成前更新，需要解决的冲突数量。\n在您合并分支之前，代码可能会更改，但创建它为您提供了开始清理代码的起点。分支的存在也提醒您在不再需要标志时将其移除。\n退役不活跃的项目 您可以通过标志的年龄和活动水平来识别可能不活跃的整个项目。如果在过去三个月内没有人在项目中创建新的标志，并且它不包含任何活跃的永久标志，您可能可以删除该项目。要了解如何操作，阅读删除项目 。\n在Slack中接收标志移除提醒 LaunchDarkly Slack应用程序可以在您需要从代码中移除标志时发送通知。要了解更多信息，请阅读当标志准备好移除时接收提醒 。\n在LaunchDarkly中减少标志债务的方法 LaunchDarkly提供了几种工具，可以帮助您减少标志债务。\n使用标志归档检查 在标志列表上，使用显示菜单显示标志的归档检查。当选择归档检查时，标志列表会指示标志是否需要代码移除或准备归档。您也可以使用筛选器菜单筛选需要代码移除或准备归档的标志。要了解更多信息，请阅读归档标志 和标志状态和生命周期阶段 。\n使用标志健康度量 工程洞察是企业版功能\n工程洞察适用于企业版计划的客户。要了解更多信息，请阅读我们的定价信息 。要升级您的计划，请联系销售 。\n如果您使用工程洞察，您可以使用标志健康度量来帮助减少标志债务。对于大多数组织来说，较低的陈旧标志百分比是可取的。\n当您在一个环境中查看标志健康度时，您可能希望减少您的陈旧标志百分比，因为大多数陈旧标志代表您需要清理或移除的技术债务。\n我们还强烈建议查看跨环境的标志健康度。不同环境之间标志状态的差异可能表明存在问题。例如，如果一个标志在所有环境中都处于“已发布”状态，而在最后一个环境中处于“非活跃”状态，可能您忘记了将其推出。您可以使用“选择环境比较状态”功能作为双重检查您的发布程序的机会。要了解更多信息，请阅读标志健康度 。\n以下是一些减少您的陈旧标志百分比的策略：\n在所有相关环境中推出标志 当您完成标志时，将其移除或归档 在适当的情况下，将标志标记为永久性 过分关注减少您的陈旧标志百分比可能会导致标志健康流程中的不良实践。例如，您可以将临时标志标记为永久性，以减少您的陈旧标志百分比，因为只有临时标志可以变得陈旧。但大多数情况下，当不再需要临时标志时，您应该将其归档，而不是将其标记为永久性。\n相反，作为团队讨论您的标志健康总体目标。您可以讨论标志的生命周期，并为命名约定、标签、使标志永久化以及弃用、归档和删除标志等主题确定组织标准。\n弃用、归档和删除标志 LaunchDarkly提供了弃用、归档和删除标志的选项。我们强烈建议尽可能弃用或归档标志，而不是直接删除它们，因为归档标志的历史记录会保留在您的LaunchDarkly项目中。要了解如何操作，请阅读弃用、归档和删除标志 。\n如果您使用工程洞察功能，您可以直接从标志健康页面归档标志。\n尽可能弃用或归档标志，而不是删除它们。\n如果您删除了一个标志，LaunchDarkly会删除所有对该标志的引用，包括其历史记录。删除标志还意味着其他成员可以创建一个与已删除标志具有相同键的新标志。如果发生这种情况，并且旧标志的键仍然存在于您的代码库中，您的代码可能会开始引用错误的旗帜。这可能会对您的应用程序性能产生严重且不可预测的影响。\nLaunchDarkly SDK将归档标志视为“已删除”。当您选择归档一个标志时，面板会带您完成归档过程。如果您尝试归档一个仍在提供变体的标志，或者通过代码引用在代码中检测到的标志，LaunchDarkly会警告您。\n一个健康的项目应该有很高比例的已归档标志与未归档标志。一般准则是，任何超过三个月的项目至少应该归档一个标志。如果没有，您可能需要检查您的归档实践。适当的归档时间取决于您的业务需求，但一般最佳实践是每季度归档标志。这意味着健康的归档时间应在90-120天范围内。\n通常，项目中被删除的标志数量应该少于被归档的标志数量。如果您有更多被删除的标志而不是被归档的标志，或者如果一个项目有超过十个被删除的标志，您可能需要审查您的归档和删除实践。您可以选择通过分配自定义角色来限制谁可以删除标志。要了解更多信息，请阅读自定义角色 。\n自定义角色是企业版功能\n自定义角色适用于企业版计划的客户。要了解更多信息，请阅读我们的定价信息 。要升级您的计划，请联系销售 。\n定期安排标志审查 定期安排每月或季度的标志审查周期以识别要归档的标志。一些公司会专门安排冲刺来处理技术债务。如果您这样做，请也包括对您的特性标志的审查。\n一些团队会定期安排一个“标志清理日”。准备时，团队成员会制作一个要清理的标志列表。然后将列表分配给团队成员。之后，每个团队成员会处理他们分配到的标志，并为每个标志产生一个补丁或拉取请求，以从代码中移除该标志。\n除了临时标志外，您还应该审查任何永久标志，以确定它们是否仍然必要。随着功能的变更，与之相关的标志的需求也可能发生变化。\n例如，您可以根据您或您的团队维护的标志以及标志的生命周期阶段 进行过滤。LaunchDarkly自动标记每个“准备进行代码移除”或“准备归档”的标志。您可以保存您的列表过滤配置以便以后返回，使定期检查要归档的标志变得容易。要了解如何操作，请阅读保存过滤标志列表的快捷方式 。\n如果您使用工程洞察功能，您还可以从标志健康页面过滤和归档标志。陈旧的标志列表显示了我们建议您移除的标志在选定环境中的信息。\n您可以使用搜索和过滤选项将此列表细化为不同的标志子集：\n按标志键搜索 按标志维护者、标签和准备归档或需要审查进行过滤 按标志年龄排序 您可以选择额外的环境来比较标志状态。这有助于您验证您可以归档标志而不会产生意外后果。\n比较环境。\n如果您选择了额外的环境，LaunchDarkly会再次执行检查并突出显示陈旧的标志。要了解更多信息，请阅读标志健康 。\n使用代码引用查找和移除标志引用 归档一个标志会将其从标志列表中移除，您的应用程序上下文不再遇到它。\n在这样做之前，请从您的代码库中移除该标志。代码引用让您可以快速找到源代码中引用了哪些功能标志。这简化了在项目和文件中查找要移除的代码的过程。\n要访问代码引用：\n导航到标志列表并找到您希望移除的标志。 单击标志的名称以查看标志的详细信息。 单击右侧边栏中“代码引用”部分的存储库名称，以查看标志的代码引用： 功能标志的“代码引用”标签页。\n标志健康度量也会自动验证您的标志是否有代码引用。\n在您从代码库中移除所有提及该标志的代码引用并重新运行扫描工具后，LaunchDarkly会创建一个灭绝事件。此事件出现在功能标志的代码引用标签页上的消息中。要了解更多信息，请阅读关于灭绝事件 。\n结论 在本指南中，您了解到：\n技术债务的挑战 标志的生命周期 LaunchDarkly内部帮助控制标志债务的流程和功能 有关功能标志生命周期的更多讨论，请阅读电子书有效的功能管理 。\n","wordCount":"9945","inLanguage":"en","datePublished":"2024-10-20T00:00:00Z","dateModified":"2024-10-20T00:00:00Z","author":{"@type":"Person","name":"Joey"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://joeyzheng.tech/posts/reducing-technical-debt-from-feature-flags/"},"publisher":{"@type":"Organization","name":"黄庄以北","logo":{"@type":"ImageObject","url":"https://joeyzheng.tech/favicon.png"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://joeyzheng.tech/ accesskey=h title="黄庄以北 (Alt + H)">黄庄以北</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://joeyzheng.tech/categories/ title=categories><span>categories</span></a></li><li><a href=https://joeyzheng.tech/tags/ title=tags><span>tags</span></a></li><li><a href=https://joeyzheng.tech/ title=joeyzheng.tech><span>joeyzheng.tech</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://joeyzheng.tech/>Home</a>&nbsp;»&nbsp;<a href=https://joeyzheng.tech/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Reducing technical debt from feature flags</h1><div class=post-meta><span title='2024-10-20 00:00:00 +0000 UTC'>October 20, 2024</span>&nbsp;·&nbsp;20 min&nbsp;·&nbsp;9945 words&nbsp;·&nbsp;Joey</div></header><div class=post-content><h1 id=reducing-technical-debt-from-feature-flags>Reducing technical debt from feature flags<a hidden class=anchor aria-hidden=true href=#reducing-technical-debt-from-feature-flags>#</a></h1><h5 id=read-time16minutes>Read time: 16 minutes<a hidden class=anchor aria-hidden=true href=#read-time16minutes>#</a></h5><h5 id=last-editedoct-15-2024>Last edited: Oct 15, 2024<a hidden class=anchor aria-hidden=true href=#last-editedoct-15-2024>#</a></h5><h2 id=httpsdocslaunchdarklycomguidesflagstechnical-debtoverviewoverview><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#overview target=_blank rel="noopener noreferrer nofollow"></a>Overview</h2><p>This guide provides ways to reduce and eliminate technical debt related to feature flags using LaunchDarkly. Like all debt, technical debt accumulates over time, but you can mitigate that debt over time if you put effective processes in place before you need them.</p><p>In this guide, we&rsquo;ll explore:</p><ul><li>The challenge of technical debt</li><li>The lifecycle of a flag</li><li>Naming conventions</li><li>Using tags</li><li>Code references</li><li>Deprecating, archiving, and deleting flags</li></ul><p>Just like feature flags should be a core engineering practice, so should a strategy to address technical debt. LaunchDarkly can help you by automatically identifying flags that need code removal or are ready to archive.</p><h2 id=httpsdocslaunchdarklycomguidesflagstechnical-debtprerequisitesprerequisites><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#prerequisites target=_blank rel="noopener noreferrer nofollow"></a>Prerequisites</h2><p>To complete this guide, you must have the following prerequisites:</p><ul><li>Proficiency and understanding of creating a feature flag in LaunchDarkly</li><li>Knowledge of your organization’s release process</li></ul><h2 id=httpsdocslaunchdarklycomguidesflagstechnical-debtconceptsconcepts><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#concepts target=_blank rel="noopener noreferrer nofollow"></a>Concepts</h2><p>You should understand these concepts before you read this guide:</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debttechnical-debttechnical-debt><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#technical-debt target=_blank rel="noopener noreferrer nofollow"></a>Technical debt</h3><p>Technical debt is a concept in software development that describes the implied cost of rework required in the future because of short-term, limited solutions. It is often caused by choosing a fast, limited solution now instead of using a better approach that would take longer. A common reason for this is that necessary work must be delayed to meet a deliverable or a deadline.</p><p>As this debt accumulates, it is harder to maintain the system and code, which can impact the speed of development and efficiency of your codebase in the future.</p><p>One way technical debt can accumulate is when you fail to maintain your feature flags.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtsoftware-delivery-lifecyclesoftware-delivery-lifecycle><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#software-delivery-lifecycle target=_blank rel="noopener noreferrer nofollow"></a>Software delivery lifecycle</h3><p>The software delivery lifecycle (SDLC) is a process followed for a software project. The process describes how to develop, maintain, and modify software. The stages of the software delivery cycle are:</p><ul><li>Planning</li><li>Analysis</li><li>Design</li><li>Implementation</li><li>Testing and integration</li><li>Maintenance</li></ul><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debttemporary-and-permanent-flagstemporary-and-permanent-flags><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#temporary-and-permanent-flags target=_blank rel="noopener noreferrer nofollow"></a>Temporary and permanent flags</h3><p>Flags are either temporary or permanent. A temporary flag has a limited lifespan. Once the flag has fulfilled its business purpose, remove it from the codebase. Temporary flags include flags for release management, experiments, and interoperability testing.</p><p>Permanent flags provide control for an extended time after the release of a feature. They will potentially exist for the life of a feature. Permanent flags include flags for entitlements, load shedding, custom-branding, or accessibility.</p><h2 id=httpsdocslaunchdarklycomguidesflagstechnical-debtchallenges-of-technical-debtchallenges-of-technical-debt><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#challenges-of-technical-debt target=_blank rel="noopener noreferrer nofollow"></a>Challenges of technical debt</h2><p>Every feature should have a flag, but if you don&rsquo;t regularly archive flags, you can accumulate a lot of debt.</p><p>Cluttered code is harder to maintain and test. Unnecessary code remains because nobody remembers why it existed, and there is a fear that things will break if it is removed. Failure to remove flags leads to cluttered code.</p><p>Not only do you want to remove the references to the flag in your code, but you also don’t want to send evaluation settings for flags you don’t need. When you use features like Data Export to track the impact of your rollouts, your database may be overwhelmed with unnecessary event data. You don&rsquo;t want to transfer and store data on flags that should have been archived three months ago.</p><p>Failure to remove flags clutters your <strong>Flags</strong> list, as well as your code. You can’t quickly find the flag you need to toggle. This may seem like a minor inconvenience, but if you need to quickly toggle a flag&rsquo;s targeting off, having to scroll through hundreds of flags adds time. But cluttered code and extensive <strong>Flags</strong> lists aren’t the only challenges.</p><p>You also run the risk of an old flag evaluating to a state that is invalid or undesirable. When you’re rolling out a new change such as an updated user interface (UI), it is common to keep the current UI as the default version until you have confidence in the new one. Once the flag is serving 100% of contexts the new UI, the flag has reached the end of its lifecycle and should be archived. Failure to do this runs the risk of falling back to the undesired old UI if a flag gets turned off or an SDK failure results in using the fallback value.</p><p>Test the fallback values of permanent flags periodically to ensure they are up to date and delivering valid states. To learn more about fallback values, read <a href=https://docs.launchdarkly.com/home/flags/variations#change-default-flag-values target=_blank rel="noopener noreferrer nofollow">Change default flag values</a>
.</p><h2 id=httpsdocslaunchdarklycomguidesflagstechnical-debtthe-flag-lifecyclethe-flag-lifecycle><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#the-flag-lifecycle target=_blank rel="noopener noreferrer nofollow"></a>The flag lifecycle</h2><p>A flag may go through several stages over the course of its lifecycle, including:</p><ul><li>Live</li><li>Ready for code removal</li><li>Ready to archive</li><li>Archived</li><li>Deprecated</li><li>Deleted</li></ul><p>The lifecycle stage is based on what is happening across all environments. Not all flags will go through all lifecycle stages.</p><p>Flags are ready for code removal if they are temporary flags that are either not being evaluated any more (&ldquo;Inactive&rdquo; status), or are serving the same variation to all contexts (&ldquo;Launched&rdquo; status). An &ldquo;Inactive&rdquo; status may mean that you&rsquo;re no longer running the code which evaluates the flag. A &ldquo;Launched&rdquo; status likely means that any gradual rollout of a new feature has ended, and the feature is now live for all contexts. The flag is still evaluated every time the code is run, but because it returns the same variation for everyone, it&rsquo;s no longer needed. You should now either remove the flag from your code and then archive the flag, or turn the flag into a permanent flag that you can use as a circuit breaker to disable the feature entirely.</p><p>For example, consider this flag:</p><p><a href=https://docs.launchdarkly.com/static/1729099785499.1948812414/8da59/tech-debt-inactive.auto.png target=_blank rel="noopener noreferrer nofollow">&lt;img alt="A flag with status of &amp;ldquo;Inactive&amp;rdquo; and a lifecycle stage of &amp;ldquo;Ready to archive.&amp;rdquo;" loading="lazy" src="https://docs.launchdarkly.com/static/1729099785499.1948812414/6af66/tech-debt-inactive.auto.png"></a></p><p>A flag with status of &ldquo;Inactive&rdquo; and a lifecycle stage of &ldquo;Ready to archive.&rdquo;</p><p>This flag’s status is &ldquo;Inactive,&rdquo; and it is marked as &ldquo;Ready to archive.&rdquo; No one is using the flag. You can remove it from your code and archive it.</p><p>LaunchDarkly automatically determines if a flag is ready to archive by checking the flag in all of your <a href=https://docs.launchdarkly.com/home/account/environment#critical-environments target=_blank rel="noopener noreferrer nofollow">critical environments</a>
 for code references, age, status, and whether it is a prerequisite. You can view flags that are ready to archive from the <strong>Flags</strong> list. Each flag that is ready to archive has a &ldquo;Ready to archive&rdquo; indicator in the <strong>Flags</strong> list. Click the indicator to begin the archival process.</p><p>To find all flags that need code removal or are ready to archive, navigate to the <strong>Flags</strong> list and open the <strong>Filters</strong> menu. Under &ldquo;Lifecycle,&rdquo; select <strong>Needs code removal</strong> or <strong>Ready to archive</strong>. To learn more, read <a href=https://docs.launchdarkly.com/home/flags/archive target=_blank rel="noopener noreferrer nofollow">Archiving flags</a>
.</p><p>If you don&rsquo;t remove and archive flags that no one is using, they can become a form of technical debt. However, do not archive flags solely because of their status. Be sure the flag is no longer in use. To learn more, read <a href=https://docs.launchdarkly.com/home/observability/flag-status target=_blank rel="noopener noreferrer nofollow">Flag statuses and lifecycle stages</a>
.</p><p>You may sometimes see flags on the <strong>Flags</strong> list that you have removed from your code, but appear to still be active. To troubleshoot this, read the LaunchDarkly Knowledge Base articles <a href=https://support.launchdarkly.com/hc/en-us/articles/26504511566363-How-to-investigate-removed-flags-that-appear-active target=_blank rel="noopener noreferrer nofollow">How to investigate removed flags that appear active</a>
 and <a href=https://support.launchdarkly.com/hc/en-us/articles/14030042957083-Flag-removed-from-code-is-still-showing-evaluations target=_blank rel="noopener noreferrer nofollow">Flag removed from code is still showing evaluations</a>
.</p><h2 id=httpsdocslaunchdarklycomguidesflagstechnical-debtorganizational-methods-for-reducing-flag-debtorganizational-methods-for-reducing-flag-debt><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#organizational-methods-for-reducing-flag-debt target=_blank rel="noopener noreferrer nofollow"></a>Organizational methods for reducing flag debt</h2><p>This section discusses processes you can follow within your organization to reduce or eliminate flag debt.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtcreate-organization-wide-naming-conventionscreate-organization-wide-naming-conventions><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#create-organization-wide-naming-conventions target=_blank rel="noopener noreferrer nofollow"></a>Create organization-wide naming conventions</h3><p>A shared naming convention for your organization&rsquo;s flags is an effective way to eliminate debt. Flags should have understandable, intuitive names.</p><p>For example, imagine a flag named <code>FF123_do_not_delete_this_72</code>. When the developer that created the flag leaves the company, the person who takes over their work cannot necessarily tell what that flag is supposed to do. The name of that flag is too obscure to easily determine if the flag is important or not, and taking time to find the flag references in the codebase, determine the results of its variations, and calculate the impact of archiving the flag all seem less urgent than other work.</p><p>If flags do not have human-readable names, they can become technical debt.</p><p>To learn more, read <a href=https://docs.launchdarkly.com/guides/flags/flag-conventions target=_blank rel="noopener noreferrer nofollow">Flag conventions</a>
.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtwrite-useful-descriptionswrite-useful-descriptions><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#write-useful-descriptions target=_blank rel="noopener noreferrer nofollow"></a>Write useful descriptions</h3><p>Use descriptions to add more context to the flag. Unlike flag names, you can update descriptions. They can include detailed information, such as the date the flag was last reviewed, the purpose of the flag, and more.</p><p>Descriptions are fast ways to help other account members learn what a flag does and what its impact is.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtminimize-flag-scopeminimize-flag-scope><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#minimize-flag-scope target=_blank rel="noopener noreferrer nofollow"></a>Minimize flag scope</h3><p>A flag should have limited scope. Having a flag that controls more than one feature action at a time can be confusing and can make it harder to troubleshoot problems.</p><p>Imagine the smallest unit of logic needed for the most responsive flag. If there are multiple parts to a feature that have to work together, you can create a main flag with other flags dependent on it.</p><p>For example, you launch a new dashboard with three widgets. To manage them, create four flags: one flag for each widget, with a dependency on a fourth flag for the main dashboard. In this scenario, if one widget causes problems, you can disable it and still serve the dashboard with the two remaining widgets.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtonly-using-flags-where-necessaryonly-using-flags-where-necessary><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#only-using-flags-where-necessary target=_blank rel="noopener noreferrer nofollow"></a>Only using flags where necessary</h3><p>You do not need to use feature flags for every change you make to your codebase. Limit the use of flags in certain situations to help manage your flag debt.</p><p>We recommend against using flags in the following scenarios:</p><ul><li>As a replacement for secrets management, or for targeting on secrets or credentials.</li><li>As a replacement for configuration management.<ul><li>Don&rsquo;t use feature flags with configuration that is static or rarely changes. Only use flags for this type of configuration if you need an emergency shut-off switch.</li><li>Don&rsquo;t use feature flags on configuration that, if disabled, would completely block the application from starting. For example, a database hostname or API URLs.</li></ul></li><li>As a database or file store. Instead, keep variations small and avoid complex JSON payloads where possible. Consider breaking up complex flags into smaller individual flags.</li><li>For every commit, sprint, or other small change. Flagging very small changes is usually not worth the cost of flag upkeep. Instead, wrap features as a whole.</li></ul><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtmark-flags-as-temporarymark-flags-as-temporary><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#mark-flags-as-temporary target=_blank rel="noopener noreferrer nofollow"></a>Mark flags as temporary</h3><p>When you create or edit a flag, you can indicate whether or not the flag is temporary by selecting the <strong>This is a temporary flag</strong> checkbox on the flag&rsquo;s settings page.</p><p>You can also filter flags based on whether they are temporary or permanent. This can help you find flags to archive. When someone tries to archive a permanent flag, a warning appears. This can help prevent flags from being archived unnecessarily.</p><p>When you conduct a flag review, confirm the <strong>This is a temporary flag</strong> checkbox is unchecked for every permanent flag.</p><p>To learn more, read <a href=https://docs.launchdarkly.com/home/flags/flag-settings target=_blank rel="noopener noreferrer nofollow">Other flag settings</a>
.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtuse-effective-tagging-conventionsuse-effective-tagging-conventions><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#use-effective-tagging-conventions target=_blank rel="noopener noreferrer nofollow"></a>Use effective tagging conventions</h3><p>Tags are strings you can attach to any flag within LaunchDarkly. They help you group resources together.</p><p>You can control the spread of technical debt with tags by including a tag with a sprint designation or deploy date. When you conduct your regularly scheduled reviews, you can search for specific sprints or deploy dates.</p><p>Tag case sensitivity</p><p>Tags are case sensitive. For example, searching for <code>Permanent</code> tags and <code>permanent</code> tags will yield different results.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtinclude-flags-in-your-workflows-definition-of-doneinclude-flags-in-your-workflows-definition-of-done><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#include-flags-in-your-workflows-definition-of-done target=_blank rel="noopener noreferrer nofollow"></a>Include flags in your workflow&rsquo;s definition of &ldquo;done&rdquo;</h3><p>Each company and team within an organization may have their own standards for what constitutes &ldquo;done&rdquo; on a task or project. Done indicates the project can be removed from the list of current tasks. For example, a team may consider the code for a task to be incomplete until it has passed automated tests.</p><p>Done means different things for different teams. A feature may be done when it rolls out to 100% of contexts, or when it rolls out to a specific set of contexts. When a feature is fully rolled out, or an experiment is ended, that&rsquo;s the best time to clean up the flag. When scheduling the work for rolling out a feature, include the flag cleanup work in the schedule. A feature is done when the flag is archived.</p><p>If the flag you use for a release will convert to a permanent flag, the definition of done should be when the setting on the flag changes to indicate it is permanent. You can make archiving flags part of each sprint or project end. Using this method, you&rsquo;ll do the work to archive the flag when the context is fresh.</p><p>To learn more about integrating flag archiving behavior into your feature development processes, read the LaunchDarkly blog article <a href=https://launchdarkly.com/blog/how-to-use-feature-flags-without-technical-debt/ target=_blank rel="noopener noreferrer nofollow">How to use feature flags without technical debt</a>
.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtplan-to-remove-flags-during-flag-creationplan-to-remove-flags-during-flag-creation><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#plan-to-remove-flags-during-flag-creation target=_blank rel="noopener noreferrer nofollow"></a>Plan to remove flags during flag creation</h3><p>When creating a pull request to add a flag into your code, you can also create a second pull request which removes the flag. This pull request should simply remove the flag code without other changes. This minimizes the number of conflicts to resolve even if, as often happens, the code for the new feature is updated before the rollout is finished.</p><p>The code may change before you merge the branch, but creating it gives you somewhere to start when you&rsquo;re ready to clean up the code. The presence of the branch also serves as a reminder to remove the flag when it&rsquo;s no longer needed.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtretire-inactive-projectsretire-inactive-projects><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#retire-inactive-projects target=_blank rel="noopener noreferrer nofollow"></a>Retire inactive projects</h3><p>You can identify entire projects that may be inactive by the age and activity level of its flags. If no one has created new flags within the project in the last three months, and it does not contain any active permanent flags, you may be able to delete the project. To learn how, read <a href=https://docs.launchdarkly.com/home/account/project#delete-projects target=_blank rel="noopener noreferrer nofollow">Delete projects</a>
.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtreceive-flag-removal-alerts-in-slackreceive-flag-removal-alerts-in-slack><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#receive-flag-removal-alerts-in-slack target=_blank rel="noopener noreferrer nofollow"></a>Receive flag removal alerts in Slack</h3><p>The LaunchDarkly Slack app can send you notifications when it’s time to remove flags from code. To learn more, read <a href=https://docs.launchdarkly.com/integrations/slack/notifications#receive-alerts-when-flags-are-ready-to-remove target=_blank rel="noopener noreferrer nofollow">Receive alerts when flags are ready to remove</a>
.</p><h2 id=httpsdocslaunchdarklycomguidesflagstechnical-debtmethods-for-reducing-flag-debt-in-launchdarklymethods-for-reducing-flag-debt-in-launchdarkly><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#methods-for-reducing-flag-debt-in-launchdarkly target=_blank rel="noopener noreferrer nofollow"></a>Methods for reducing flag debt in LaunchDarkly</h2><p>LaunchDarkly provides several tools to help you reduce flag debt.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtuse-the-flag-archive-checksuse-the-flag-archive-checks><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#use-the-flag-archive-checks target=_blank rel="noopener noreferrer nofollow"></a>Use the flag archive checks</h3><p>On the <strong>Flags</strong> list, use the <strong>Display</strong> menu to show archive checks for your flags. When archive checks are selected, the <strong>Flags</strong> list indicates whether a flag is needs code removal or is ready to archive. You can also use the <strong>Filter</strong> menu to filter for flags that need code removal or are ready to archive. To learn more, read <a href=https://docs.launchdarkly.com/home/flags/archive target=_blank rel="noopener noreferrer nofollow">Archiving flags</a>
 and <a href=https://docs.launchdarkly.com/home/observability/flag-status target=_blank rel="noopener noreferrer nofollow">Flag statuses and lifecycle stages</a>
.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtuse-the-flag-health-metricuse-the-flag-health-metric><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#use-the-flag-health-metric target=_blank rel="noopener noreferrer nofollow"></a>Use the flag health metric</h3><p>Engineering insights is an Enterprise feature</p><p>Engineering insights is available to customers on an Enterprise plan. To learn more, <a href=https://launchdarkly.com/pricing/ target=_blank rel="noopener noreferrer nofollow">read about our pricing</a>
. To upgrade your plan, <a href=https://launchdarkly.com/contact-sales/ target=_blank rel="noopener noreferrer nofollow">contact Sales</a>
.</p><p>If you use engineering insights, you can use the flag health metric to help reduce flag debt. For most organizations, a lower stale flag percentage is desirable.</p><p>When you look at flag health in one environment, you might want to decrease your stale flag percentage because most stale flags represent tech debt that you need to clean up or remove.</p><p>We strongly recommend looking at flag health across environments as well. Differences in flag statuses between environments could indicate a problem. For example, if a flag is &ldquo;Launched&rdquo; in all but one environment and &ldquo;Inactive&rdquo; in the final environment, maybe you forgot to roll it out. You can use the &ldquo;Select environments to compare status&rdquo; feature as an opportunity to double-check your release procedures. To learn more, read <a href=https://docs.launchdarkly.com/home/observability/flag-health target=_blank rel="noopener noreferrer nofollow">Flag health</a>
.</p><p>Here are some strategies to decrease your stale flag percentage:</p><ul><li>Rolling out flags in all relevant environments</li><li>Removing or archiving flags when you&rsquo;re done with them</li><li>Marking flags permanent, when it&rsquo;s warranted</li></ul><p>Focusing too much on decreasing your stale flag percentage can lead to bad practices in your flag health processes. For example, you can mark a temporary flag as permanent to decrease your stale flag percentage, because only temporary flags can be stale. But most of the time, you should archive a temporary flag when it is no longer needed, not mark it as permanent.</p><p>Instead, discuss your overall goals for flag health as a team. You can talk through the flag lifecycle and decide on organizational standards for topics including naming conventions, tags, making flags permanent, and deprecating, archiving, and deleting flags.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtdeprecate-archive-and-delete-flagsdeprecate-archive-and-delete-flags><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#deprecate-archive-and-delete-flags target=_blank rel="noopener noreferrer nofollow"></a>Deprecate, archive, and delete flags</h3><p>LaunchDarkly provides the options to deprecate, archive, and delete flags. We strongly recommend deprecating or archiving flags rather than deleting them, because an archived flag&rsquo;s history remains in your LaunchDarkly project. To learn how, read <a href=https://docs.launchdarkly.com/home/flags/archive-delete target=_blank rel="noopener noreferrer nofollow">Deprecating, archiving, and deleting flags</a>
.</p><p>If you use engineering insights, you can archive flags directly from the flag health page.</p><p>Deprecate or archive flags instead of deleting them whenever possible</p><p>If you delete a flag, LaunchDarkly deletes all references to the flag, including its history. Deleting a flag also means a member could make a new flag with the same key as the old deleted flag. If this happens and the old flag&rsquo;s key still exists in your codebase, your code could begin referencing the wrong flag. This can have serious and unpredictable effects on your app performance.</p><p>LaunchDarkly SDKs consider archived flags &ldquo;gone.&rdquo; When you select a flag to archive, the panel takes you through the archiving process. LaunchDarkly warns you if you try to archive a flag that is still serving variations, or that is detected in your code through code references.</p><p>A healthy project has a high ratio of archived to unarchived flags. A general guideline is that any project over three months old should have archived at least one flag. If it has not, you may want to examine your archival practices. An appropriate time-to-archive varies depending on your business needs, but a general best practice is to archive flags quarterly. This means a healthy time-to-archive is in the 90-120 day range.</p><p>Generally, a project should have fewer deleted flags than archived flags. If you have more deleted flags than archived flags, or if a project has more than ten deleted flags, you may need to review your archiving and deleting practices. You may choose to restrict who can delete flags by assigning them a custom role. To learn more, read <a href=https://docs.launchdarkly.com/home/account/custom-roles target=_blank rel="noopener noreferrer nofollow">Custom roles</a>
.</p><p>Custom roles is an Enterprise feature</p><p>Custom roles are available to customers on an Enterprise plan. To learn more, <a href=https://launchdarkly.com/pricing/ target=_blank rel="noopener noreferrer nofollow">read about our pricing</a>
. To upgrade your plan, <a href=https://launchdarkly.com/contact-sales/ target=_blank rel="noopener noreferrer nofollow">contact Sales</a>
.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtschedule-regular-flag-reviewsschedule-regular-flag-reviews><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#schedule-regular-flag-reviews target=_blank rel="noopener noreferrer nofollow"></a>Schedule regular flag reviews</h3><p>Schedule regular review cycles on a monthly or quarterly basis to identify flags to archive. Some companies dedicate sprints to tackling technical debt. If you do this, include a review of your feature flags, too.</p><p>Some teams schedule a regular &ldquo;Flag Cleanup Day.&rdquo; In preparation, a team member produces a list of flags to be cleaned up. The list is divided up amongst the team. Then, each team member goes through their assigned flags and, for each flag, produces a patch or pull request which removes the flag from the code.</p><p>In addition to temporary flags, you should also review any permanent flags to determine that they are still necessary. As features change, the need for the flags associated with them can also change.</p><p>For example, you can filter by flags that you or your team maintain, and by the <a href=https://docs.launchdarkly.com/home/observability/flag-status target=_blank rel="noopener noreferrer nofollow">lifecycle stage</a>
 of the flag. LaunchDarkly automatically indicates each flag that is &ldquo;Ready for code removal&rdquo; or &ldquo;Ready to archive.&rdquo; You can save your list filter configurations to return to later, making it easy to regularly check for flags to archive. To learn how, read <a href=https://docs.launchdarkly.com/home/flags/list#save-shortcuts-to-filtered-flags-lists target=_blank rel="noopener noreferrer nofollow">Save shortcuts to filtered Flags lists</a>
.</p><p>If you use engineering insights, you can also filter and archive flags from the flag health page. The stale <strong>Flags</strong> list shows information about flags in a selected environment that we recommend you remove.</p><p>You can use the search and filter options to refine this list into a different subset of flags:</p><ul><li>Search by flag key</li><li>Filter by flag maintainer, tags, and ready to archive or needs review</li><li>Sort by flag age</li></ul><p>You can select additional environments to compare the flag state against. This helps you verify that you can archive the flag without unintended consequences.</p><p><a href=https://docs.launchdarkly.com/static/1729099785191.195811726/0486e/eng-insights-flag-health-compare-env.png target=_blank rel="noopener noreferrer nofollow">&lt;img alt="Compare environments." loading="lazy" src="https://docs.launchdarkly.com/static/1729099785191.195811726/6af66/eng-insights-flag-health-compare-env.png"></a></p><p>Compare environments.</p><p>If you choose additional environments, LaunchDarkly performs the checks again and highlights stale flags. To learn more, read <a href=https://docs.launchdarkly.com/home/observability/flag-health target=_blank rel="noopener noreferrer nofollow">Flag health</a>
.</p><h3 id=httpsdocslaunchdarklycomguidesflagstechnical-debtuse-code-references-to-find-and-remove-references-to-flagsuse-code-references-to-find-and-remove-references-to-flags><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#use-code-references-to-find-and-remove-references-to-flags target=_blank rel="noopener noreferrer nofollow"></a>Use code references to find and remove references to flags</h3><p>Archiving a flag removes it from the <strong>Flags</strong> list and your app&rsquo;s contexts no longer encounter it.</p><p>Before you do this, remove the flag from your codebase. Code references let you quickly find where in your source code feature flags are referenced. This simplifies the process of finding code to remove in projects and files.</p><p>To access code references:</p><ol><li>Navigate to the <strong>Flags</strong> list and find the flag you wish to remove.</li><li>Click the flag&rsquo;s name to view the flag&rsquo;s details.</li><li>Click the repository name in the &ldquo;Code references&rdquo; section of the right sidebar to view the flag&rsquo;s code references:</li></ol><p><a href=https://docs.launchdarkly.com/static/1729099785211.195811762/10c1e/flag-code-references.png target=_blank rel="noopener noreferrer nofollow">&lt;img alt="The &amp;ldquo;Code references&amp;rdquo; tab of a feature flag." loading="lazy" src="https://docs.launchdarkly.com/static/1729099785211.195811762/6af66/flag-code-references.png"></a></p><p>The &ldquo;Code references&rdquo; tab of a feature flag.</p><p>The flag health metric also automatically verifies whether or not there are code references for your flags.</p><p>After you remove all code references mentioning that flag from the codebase and rerun the scanning tool, LaunchDarkly creates an extinction event. This event appears as a message on the <strong>Code references</strong> tab of the feature flag. To learn more, read <a href=https://docs.launchdarkly.com/home/observability/code-references#about-extinction-events target=_blank rel="noopener noreferrer nofollow">About extinction events</a>
.</p><h2 id=httpsdocslaunchdarklycomguidesflagstechnical-debtconclusionconclusion><a href=https://docs.launchdarkly.com/guides/flags/technical-debt#conclusion target=_blank rel="noopener noreferrer nofollow"></a>Conclusion</h2><p>In this guide, you learned about:</p><ul><li>Challenges of technical debt</li><li>The flag lifecycle</li><li>Processes and features within LaunchDarkly to help control flag debt</li></ul><p>For additional discussion on the lifecycle of a feature flag, read the ebook <a href=https://learn.launchdarkly.com/effective-feature-management/ target=_blank rel="noopener noreferrer nofollow">Effective Feature Management</a>
.</p><h1 id=减少特性标志的技术债务>减少特性标志的技术债务<a hidden class=anchor aria-hidden=true href=#减少特性标志的技术债务>#</a></h1><h4 id=阅读时间16分钟>阅读时间：16分钟<a hidden class=anchor aria-hidden=true href=#阅读时间16分钟>#</a></h4><h4 id=最后编辑2024年10月15日>最后编辑：2024年10月15日<a hidden class=anchor aria-hidden=true href=#最后编辑2024年10月15日>#</a></h4><h2 id=httpsundefined概览><a href=https://undefined/ target=_blank rel="noopener noreferrer nofollow"></a>概览</h2><p>本指南提供了使用LaunchDarkly减少和消除与特性标志相关的技术债务的方法。像所有债务一样，技术债务会随着时间积累，但如果您在需要之前就建立有效的流程，就可以随着时间减轻这些债务。</p><p>在本指南中，我们将探讨：</p><ul><li>技术债务的挑战</li><li>标志的生命周期</li><li>命名约定</li><li>使用标签</li><li>代码引用</li><li>弃用、归档和删除标志</li></ul><p>就像特性标志应该是核心工程实践一样，解决技术债务的策略也应该是。LaunchDarkly可以通过自动识别需要代码移除或准备归档的标志来帮助您。</p><h2 id=httpsundefined先决条件><a href=https://undefined/ target=_blank rel="noopener noreferrer nofollow"></a>先决条件</h2><p>要完成本指南，您必须具备以下先决条件：</p><ul><li>熟练掌握在LaunchDarkly中创建特性标志</li><li>了解您组织的发布流程</li></ul><h2 id=httpsundefined概念><a href=https://undefined/ target=_blank rel="noopener noreferrer nofollow"></a>概念</h2><p>在阅读本指南之前，您应该了解以下概念：</p><h3 id=httpsundefined技术债务><a href=https://undefined/ target=_blank rel="noopener noreferrer nofollow"></a>技术债务</h3><p>技术债务是软件开发中的一个概念，描述了由于未来需要重做的工作而产生的隐含成本，因为短期内采用了有限的解决方案。这通常是因为为了满足交付物或截止日期，必须延迟必要的工作而造成的。</p><p>随着这种债务的积累，系统和代码的维护变得更加困难，这可能会影响未来开发的速度和代码库的效率。</p><p>技术债务积累的一种方式是未能维护您的特性标志。</p><h3 id=httpsundefined软件交付生命周期><a href=https://undefined/ target=_blank rel="noopener noreferrer nofollow"></a>软件交付生命周期</h3><p>软件交付生命周期（SDLC）是软件项目遵循的一个过程。该过程描述了如何开发、维护和修改软件。软件交付周期的阶段包括：</p><ul><li>计划</li><li>分析</li><li>设计</li><li>实施</li><li>测试和集成</li><li>维护</li></ul><h3 id=httpsundefined临时和永久标志><a href=https://undefined/ target=_blank rel="noopener noreferrer nofollow"></a>临时和永久标志</h3><p>标志要么是临时的，要么是永久的。临时标志有有限的生命周期。一旦标志实现了其业务目的，就将其从代码库中移除。临时标志包括用于发布管理、实验和互操作性测试的标志。</p><p>永久标志在功能发布后提供长时间的控制。它们可能会存在整个功能的生命期。永久标志包括用于权利、负载削减、自定义品牌或可访问性的标志。</p><h2 id=httpsundefined技术债务的挑战><a href=https://undefined/ target=_blank rel="noopener noreferrer nofollow"></a>技术债务的挑战</h2><p>每个功能都应该有一个标志，但如果不定期归档标志，您可能会积累大量债务。</p><p>杂乱无章的代码更难维护和测试。不必要的代码仍然存在，因为没有人记得它为什么存在，并且担心如果移除它会导致问题。未能移除标志会导致代码杂乱无章。</p><p>您不仅希望从代码中移除标志的引用，还不希望发送您不需要的标志的评估设置。当您使用像数据导出这样的功能来跟踪您的发布影响时，您的数据库可能会被不必要的事件数据淹没。您不希望传输和存储应该在三个月前归档的标志的数据。</p><p>未能移除标志会使您的<strong>标志</strong>列表和代码变得杂乱无章。您不能快速找到需要切换的标志。这可能看起来像是一个次要的不便，但如果需要快速切换标志的目标，不得不滚动浏览数百个标志会增加时间。但是，代码杂乱和庞大的<strong>标志</strong>列表并不是唯一的挑战。</p><p>您还可能面临旧标志评估为无效或不理想状态的风险。当您推出新的更改，如更新的用户界面（UI）时，通常的做法是将当前UI作为默认版本，直到您对新版本有信心。一旦标志为100%的上下文服务了新UI，标志就达到了其生命周期的终点，应该被归档。未能这样做就有回退到不想要的旧UI的风险，如果标志被关闭，或者SDK失败导致使用回退值。</p><p>定期测试永久标志的回退值，以确保它们是最新的并提供有效的状态。要了解更多关于回退值的信息，请阅读<a href=https://docs.launchdarkly.com/home/flags/variations#change-default-flag-values target=_blank rel="noopener noreferrer nofollow">更改默认标志值</a>
。</p><h2 id=httpsundefined标志生命周期><a href=https://undefined/ target=_blank rel="noopener noreferrer nofollow"></a>标志生命周期</h2><p>标志在其生命周期中可能会经历几个阶段，包括：</p><ul><li>活跃</li><li>准备代码移除</li><li>准备归档</li><li>已归档</li><li>已弃用</li><li>已删除</li></ul><p>生命周期阶段基于所有环境中发生的情况。并非所有标志都会经历所有生命周期阶段。</p><p>如果标志是临时标志，并且不再被评估（“非活跃”状态），或者对所有上下文提供相同的变体（“已发布”状态），则标志准备进行代码移除。“非活跃”状态可能意味着您不再运行评估标志的代码。“已发布”状态可能意味着任何新功能的逐步推出已经结束，现在该功能对所有上下文都是活跃的。标志仍然每次运行代码时都被评估，但由于它对每个人都返回相同的变体，因此不再需要。您现在应该从代码中移除标志，然后归档标志，或者将标志转换为永久标志，您可以使用它作为断路器完全禁用该功能。</p><p>例如，考虑这个标志：</p><p><a href=https://undefined/ target=_blank rel="noopener noreferrer nofollow"></a></p><p>一个状态为“非活跃”且生命周期阶段为“准备归档”的标志。</p><p>这个标志的状态是“非活跃”，并且被标记为“准备归档”。没有人使用这个标志。您可以从代码中移除它并归档它。</p><p>LaunchDarkly通过检查您的所有<a href=https://docs.launchdarkly.com/home/account/environment#critical-environments target=_blank rel="noopener noreferrer nofollow">关键环境</a>
中的标志、年龄、状态和是否为先决条件，自动确定标志是否准备归档。您可以从<strong>标志</strong>列表中查看准备归档的标志。每个准备归档的标志在<strong>标志</strong>列表中都有一个“准备归档”的指示器。单击指示器开始归档过程。</p><p>要找到所有需要代码移除或准备归档的标志，请导航到<strong>标志</strong>列表并打开<strong>筛选器</strong>菜单。在“生命周期”下，选择<strong>需要代码移除</strong>或<strong>准备归档</strong>。要了解更多信息，请阅读<a href=https://docs.launchdarkly.com/home/flags/archive target=_blank rel="noopener noreferrer nofollow">归档标志</a>
。</p><p>如果您不移除和归档没有人使用的标志，它们可能成为一种技术债务。然而，不要仅因为它们的状态就归档标志。确保标志不再被使用。要了解更多信息，请阅读<a href=https://docs.launchdarkly.com/home/observability/flag-status target=_blank rel="noopener noreferrer nofollow">标志状态和生命周期阶段</a>
。</p><p>有时您可能会在<strong>标志</strong>列表上看到您已经从代码中移除的标志，但它们似乎仍然活跃。要进行故障排除，请阅读LaunchDarkly知识库文章<a href=https://support.launchdarkly.com/hc/en-us/articles/26504511566363-How-to-investigate-removed-flags-that-appear-active target=_blank rel="noopener noreferrer nofollow">如何调查看起来活跃的已移除标志</a>
和<a href=https://support.launchdarkly.com/hc/en-us/articles/14030042957083-Flag-removed-from-code-is-still-showing-evaluations target=_blank rel="noopener noreferrer nofollow">代码中已移除的标志仍然显示评估</a>
。</p><h3 id=编写有用的描述>编写有用的描述<a hidden class=anchor aria-hidden=true href=#编写有用的描述>#</a></h3><p>使用描述为标志添加更多上下文。与标志名称不同，您可以更新描述。它们可以包括详细的信息，例如标志上次审查的日期、标志的目的等。</p><p>描述是帮助其他账户成员快速了解标志功能及其影响的便捷方式。</p><h3 id=最小化标志范围>最小化标志范围<a hidden class=anchor aria-hidden=true href=#最小化标志范围>#</a></h3><p>一个标志应该具有有限的范围。一个标志如果同时控制多个功能动作，可能会造成混淆，并且可能使得问题排查变得更加困难。</p><p>想象一下，对于最灵敏的标志所需的最小逻辑单元是什么。如果一个功能有多个部分需要协同工作，您可以创建一个主标志，并让其他标志依赖于它。</p><p>例如，您启动了一个带有三个小部件的新仪表板。为了管理它们，创建四个标志：每个小部件一个标志，以及一个依赖于主仪表板的第四个标志。在这种情况下，如果一个小部件出现问题，您可以禁用它，仍然可以用剩下的两个小部件提供仪表板服务。</p><h3 id=仅在必要时使用标志>仅在必要时使用标志<a hidden class=anchor aria-hidden=true href=#仅在必要时使用标志>#</a></h3><p>您不需要对代码库中的每个更改都使用特性标志。在某些情况下限制标志的使用，可以帮助管理您的标志债务。</p><p>我们建议不要在以下情况下使用标志：</p><ul><li>作为秘密管理的替代品，或用于针对秘密或凭证的目标。</li><li>作为配置管理的替代品。<ul><li>不要将特性标志用于静态或很少更改的配置。只有在需要紧急关闭开关时，才使用标志进行此类配置。</li><li>不要在禁用后会完全阻止应用程序启动的配置上使用特性标志。例如，数据库主机名或API URL。</li></ul></li><li>作为数据库或文件存储。相反，保持变体小，并在可能的情况下避免复杂的JSON负载。考虑将复杂的标志分解为更小的单个标志。</li><li>对于每次提交、冲刺或其他小更改。标记非常小的更改通常不值得维护标志的成本。相反，将功能作为一个整体进行包装。</li></ul><h3 id=将标志标记为临时>将标志标记为临时<a hidden class=anchor aria-hidden=true href=#将标志标记为临时>#</a></h3><p>当您创建或编辑标志时，可以通过在标志的设置页面上选择<strong>这是一个临时标志</strong>复选框来指示标志是否为临时标志。</p><p>您还可以根据标志是临时的还是永久的来过滤标志。这可以帮助您找到要归档的标志。当有人尝试归档一个永久标志时，会出现警告。这可以防止标志被不必要地归档。</p><p>当您进行标志审查时，确认每个永久标志的<strong>这是一个临时标志</strong>复选框未被选中。</p><p>要了解更多信息，请阅读<a href=https://docs.launchdarkly.com/home/flags/flag-settings target=_blank rel="noopener noreferrer nofollow">其他标志设置</a>
。</p><h3 id=使用有效的标记约定>使用有效的标记约定<a hidden class=anchor aria-hidden=true href=#使用有效的标记约定>#</a></h3><p>标签是您可以附加到LaunchDarkly中任何标志的字符串。它们帮助您将资源分组。</p><p>您可以通过包含带有冲刺指定或部署日期的标签来用标签控制技术债务的传播。当您进行定期审查时，可以搜索特定的冲刺或部署日期。</p><p>标签大小写敏感</p><p>标签是大小写敏感的。例如，搜索<code>Permanent</code>标签和<code>permanent</code>标签将产生不同的结果。</p><h3 id=在工作流程的定义中包含标志>在工作流程的定义中包含标志<a hidden class=anchor aria-hidden=true href=#在工作流程的定义中包含标志>#</a></h3><p>每个公司和组织内的团队可能都有自己的标准，以确定任务或项目何时算作“完成”。完成表示项目可以从当前任务列表中移除。例如，一个团队可能认为，除非任务的代码通过了自动化测试，否则任务的代码不完整。</p><p>对于不同的团队，“完成”意味着不同的事情。一个功能可能在它推广到100%的上下文中时算作完成，或者当它推广到特定一组上下文时算作完成。当一个功能完全推出，或者一个实验结束时，那是清理标志的最佳时机。在安排功能推广的工作时，将标志清理工作包含在计划中。当标志被归档时，一个功能就算完成了。</p><p>如果您用于发布的旗帜将转换为永久标志，则完成的定义应该是当标志设置更改以表明它是永久的时候。您可以使归档标志成为每个冲刺或项目结束的一部分。使用这种方法，当上下文新鲜时，您将完成归档标志的工作。</p><p>要了解更多关于如何将标志归档行为集成到您的功能开发流程中，阅读LaunchDarkly博客文章<a href=https://launchdarkly.com/blog/how-to-use-feature-flags-without-technical-debt/ target=_blank rel="noopener noreferrer nofollow">如何在不产生技术债务的情况下使用特性标志</a>
。</p><h3 id=在标志创建期间计划移除标志>在标志创建期间计划移除标志<a hidden class=anchor aria-hidden=true href=#在标志创建期间计划移除标志>#</a></h3><p>当您创建一个拉取请求将标志添加到您的代码时，您也可以创建一个第二个拉取请求来移除该标志。这个拉取请求应该只移除标志代码，而没有其他更改。这最小化了即使通常发生的情况，即新功能代码在发布完成前更新，需要解决的冲突数量。</p><p>在您合并分支之前，代码可能会更改，但创建它为您提供了开始清理代码的起点。分支的存在也提醒您在不再需要标志时将其移除。</p><h3 id=退役不活跃的项目>退役不活跃的项目<a hidden class=anchor aria-hidden=true href=#退役不活跃的项目>#</a></h3><p>您可以通过标志的年龄和活动水平来识别可能不活跃的整个项目。如果在过去三个月内没有人在项目中创建新的标志，并且它不包含任何活跃的永久标志，您可能可以删除该项目。要了解如何操作，阅读<a href=https://docs.launchdarkly.com/home/account/project#delete-projects target=_blank rel="noopener noreferrer nofollow">删除项目</a>
。</p><h3 id=在slack中接收标志移除提醒>在Slack中接收标志移除提醒<a hidden class=anchor aria-hidden=true href=#在slack中接收标志移除提醒>#</a></h3><p>LaunchDarkly Slack应用程序可以在您需要从代码中移除标志时发送通知。要了解更多信息，请阅读<a href=https://docs.launchdarkly.com/integrations/slack/notifications#receive-alerts-when-flags-are-ready-to-remove target=_blank rel="noopener noreferrer nofollow">当标志准备好移除时接收提醒</a>
。</p><h2 id=在launchdarkly中减少标志债务的方法>在LaunchDarkly中减少标志债务的方法<a hidden class=anchor aria-hidden=true href=#在launchdarkly中减少标志债务的方法>#</a></h2><p>LaunchDarkly提供了几种工具，可以帮助您减少标志债务。</p><h3 id=使用标志归档检查>使用标志归档检查<a hidden class=anchor aria-hidden=true href=#使用标志归档检查>#</a></h3><p>在<strong>标志</strong>列表上，使用<strong>显示</strong>菜单显示标志的归档检查。当选择归档检查时，<strong>标志</strong>列表会指示标志是否需要代码移除或准备归档。您也可以使用<strong>筛选器</strong>菜单筛选需要代码移除或准备归档的标志。要了解更多信息，请阅读<a href=https://docs.launchdarkly.com/home/flags/archive target=_blank rel="noopener noreferrer nofollow">归档标志</a>
和<a href=https://docs.launchdarkly.com/home/observability/flag-status target=_blank rel="noopener noreferrer nofollow">标志状态和生命周期阶段</a>
。</p><h3 id=使用标志健康度量>使用标志健康度量<a hidden class=anchor aria-hidden=true href=#使用标志健康度量>#</a></h3><p>工程洞察是企业版功能</p><p>工程洞察适用于企业版计划的客户。要了解更多信息，请<a href=https://launchdarkly.com/pricing/ target=_blank rel="noopener noreferrer nofollow">阅读我们的定价信息</a>
。要升级您的计划，请<a href=https://launchdarkly.com/contact-sales/ target=_blank rel="noopener noreferrer nofollow">联系销售</a>
。</p><p>如果您使用工程洞察，您可以使用标志健康度量来帮助减少标志债务。对于大多数组织来说，较低的陈旧标志百分比是可取的。</p><p>当您在一个环境中查看标志健康度时，您可能希望减少您的陈旧标志百分比，因为大多数陈旧标志代表您需要清理或移除的技术债务。</p><p>我们还强烈建议查看跨环境的标志健康度。不同环境之间标志状态的差异可能表明存在问题。例如，如果一个标志在所有环境中都处于“已发布”状态，而在最后一个环境中处于“非活跃”状态，可能您忘记了将其推出。您可以使用“选择环境比较状态”功能作为双重检查您的发布程序的机会。要了解更多信息，请阅读<a href=https://docs.launchdarkly.com/home/observability/flag-health target=_blank rel="noopener noreferrer nofollow">标志健康度</a>
。</p><p>以下是一些减少您的陈旧标志百分比的策略：</p><ul><li>在所有相关环境中推出标志</li><li>当您完成标志时，将其移除或归档</li><li>在适当的情况下，将标志标记为永久性</li></ul><p>过分关注减少您的陈旧标志百分比可能会导致标志健康流程中的不良实践。例如，您可以将临时标志标记为永久性，以减少您的陈旧标志百分比，因为只有临时标志可以变得陈旧。但大多数情况下，当不再需要临时标志时，您应该将其归档，而不是将其标记为永久性。</p><p>相反，作为团队讨论您的标志健康总体目标。您可以讨论标志的生命周期，并为命名约定、标签、使标志永久化以及弃用、归档和删除标志等主题确定组织标准。</p><h3 id=弃用归档和删除标志>弃用、归档和删除标志<a hidden class=anchor aria-hidden=true href=#弃用归档和删除标志>#</a></h3><p>LaunchDarkly提供了弃用、归档和删除标志的选项。我们强烈建议尽可能弃用或归档标志，而不是直接删除它们，因为归档标志的历史记录会保留在您的LaunchDarkly项目中。要了解如何操作，请阅读<a href=https://docs.launchdarkly.com/home/flags/archive-delete target=_blank rel="noopener noreferrer nofollow">弃用、归档和删除标志</a>
。</p><p>如果您使用工程洞察功能，您可以直接从标志健康页面归档标志。</p><p>尽可能弃用或归档标志，而不是删除它们。</p><p>如果您删除了一个标志，LaunchDarkly会删除所有对该标志的引用，包括其历史记录。删除标志还意味着其他成员可以创建一个与已删除标志具有相同键的新标志。如果发生这种情况，并且旧标志的键仍然存在于您的代码库中，您的代码可能会开始引用错误的旗帜。这可能会对您的应用程序性能产生严重且不可预测的影响。</p><p>LaunchDarkly SDK将归档标志视为“已删除”。当您选择归档一个标志时，面板会带您完成归档过程。如果您尝试归档一个仍在提供变体的标志，或者通过代码引用在代码中检测到的标志，LaunchDarkly会警告您。</p><p>一个健康的项目应该有很高比例的已归档标志与未归档标志。一般准则是，任何超过三个月的项目至少应该归档一个标志。如果没有，您可能需要检查您的归档实践。适当的归档时间取决于您的业务需求，但一般最佳实践是每季度归档标志。这意味着健康的归档时间应在90-120天范围内。</p><p>通常，项目中被删除的标志数量应该少于被归档的标志数量。如果您有更多被删除的标志而不是被归档的标志，或者如果一个项目有超过十个被删除的标志，您可能需要审查您的归档和删除实践。您可以选择通过分配自定义角色来限制谁可以删除标志。要了解更多信息，请阅读<a href=https://docs.launchdarkly.com/home/account/custom-roles target=_blank rel="noopener noreferrer nofollow">自定义角色</a>
。</p><p>自定义角色是企业版功能</p><p>自定义角色适用于企业版计划的客户。要了解更多信息，请<a href=https://launchdarkly.com/pricing/ target=_blank rel="noopener noreferrer nofollow">阅读我们的定价信息</a>
。要升级您的计划，请<a href=https://launchdarkly.com/contact-sales/ target=_blank rel="noopener noreferrer nofollow">联系销售</a>
。</p><h3 id=定期安排标志审查>定期安排标志审查<a hidden class=anchor aria-hidden=true href=#定期安排标志审查>#</a></h3><p>定期安排每月或季度的标志审查周期以识别要归档的标志。一些公司会专门安排冲刺来处理技术债务。如果您这样做，请也包括对您的特性标志的审查。</p><p>一些团队会定期安排一个“标志清理日”。准备时，团队成员会制作一个要清理的标志列表。然后将列表分配给团队成员。之后，每个团队成员会处理他们分配到的标志，并为每个标志产生一个补丁或拉取请求，以从代码中移除该标志。</p><p>除了临时标志外，您还应该审查任何永久标志，以确定它们是否仍然必要。随着功能的变更，与之相关的标志的需求也可能发生变化。</p><p>例如，您可以根据您或您的团队维护的标志以及标志的<a href=https://docs.launchdarkly.com/home/observability/flag-status target=_blank rel="noopener noreferrer nofollow">生命周期阶段</a>
进行过滤。LaunchDarkly自动标记每个“准备进行代码移除”或“准备归档”的标志。您可以保存您的列表过滤配置以便以后返回，使定期检查要归档的标志变得容易。要了解如何操作，请阅读<a href=https://docs.launchdarkly.com/home/flags/list#save-shortcuts-to-filtered-flags-lists target=_blank rel="noopener noreferrer nofollow">保存过滤标志列表的快捷方式</a>
。</p><p>如果您使用工程洞察功能，您还可以从标志健康页面过滤和归档标志。陈旧的<strong>标志</strong>列表显示了我们建议您移除的标志在选定环境中的信息。</p><p>您可以使用搜索和过滤选项将此列表细化为不同的标志子集：</p><ul><li>按标志键搜索</li><li>按标志维护者、标签和准备归档或需要审查进行过滤</li><li>按标志年龄排序</li></ul><p>您可以选择额外的环境来比较标志状态。这有助于您验证您可以归档标志而不会产生意外后果。</p><p><a href=https://undefined/ target=_blank rel="noopener noreferrer nofollow"></a></p><p>比较环境。</p><p>如果您选择了额外的环境，LaunchDarkly会再次执行检查并突出显示陈旧的标志。要了解更多信息，请阅读<a href=https://docs.launchdarkly.com/home/observability/flag-health target=_blank rel="noopener noreferrer nofollow">标志健康</a>
。</p><h3 id=使用代码引用查找和移除标志引用>使用代码引用查找和移除标志引用<a hidden class=anchor aria-hidden=true href=#使用代码引用查找和移除标志引用>#</a></h3><p>归档一个标志会将其从<strong>标志</strong>列表中移除，您的应用程序上下文不再遇到它。</p><p>在这样做之前，请从您的代码库中移除该标志。代码引用让您可以快速找到源代码中引用了哪些功能标志。这简化了在项目和文件中查找要移除的代码的过程。</p><p>要访问代码引用：</p><ol><li>导航到<strong>标志</strong>列表并找到您希望移除的标志。</li><li>单击标志的名称以查看标志的详细信息。</li><li>单击右侧边栏中“代码引用”部分的存储库名称，以查看标志的代码引用：</li></ol><p><a href=https://undefined/ target=_blank rel="noopener noreferrer nofollow"></a></p><p>功能标志的“代码引用”标签页。</p><p>标志健康度量也会自动验证您的标志是否有代码引用。</p><p>在您从代码库中移除所有提及该标志的代码引用并重新运行扫描工具后，LaunchDarkly会创建一个灭绝事件。此事件出现在功能标志的<strong>代码引用</strong>标签页上的消息中。要了解更多信息，请阅读<a href=https://docs.launchdarkly.com/home/observability/code-references#about-extinction-events target=_blank rel="noopener noreferrer nofollow">关于灭绝事件</a>
。</p><h2 id=结论>结论<a hidden class=anchor aria-hidden=true href=#结论>#</a></h2><p>在本指南中，您了解到：</p><ul><li>技术债务的挑战</li><li>标志的生命周期</li><li>LaunchDarkly内部帮助控制标志债务的流程和功能</li></ul><p>有关功能标志生命周期的更多讨论，请阅读电子书<a href=https://learn.launchdarkly.com/effective-feature-management/ target=_blank rel="noopener noreferrer nofollow">有效的功能管理</a>
。</p></div><script src=https://giscus.app/client.js data-repo=joey5403/joey5403 data-repo-id=R_kgDOGVP_hg data-category=General data-category-id=DIC_kwDOGVP_hs4ChjR9 data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=dark data-lang=en crossorigin=anonymous async></script><footer class=post-footer><ul class=post-tags><li><a href=https://joeyzheng.tech/tags/feature-toggle/>Feature Toggle</a></li></ul><nav class=paginav><a class=prev href=https://joeyzheng.tech/posts/operate---the-second-pillar/><span class=title>« Prev</span><br><span>Operate - The second pillar</span>
</a><a class=next href=https://joeyzheng.tech/posts/feature-management-01/><span class=title>Next »</span><br><span>The definitive guide to feature management.</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Reducing technical debt from feature flags on x" href="https://x.com/intent/tweet/?text=Reducing%20technical%20debt%20from%20feature%20flags&amp;url=https%3a%2f%2fjoeyzheng.tech%2fposts%2freducing-technical-debt-from-feature-flags%2f&amp;hashtags=featuretoggle"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reducing technical debt from feature flags on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fjoeyzheng.tech%2fposts%2freducing-technical-debt-from-feature-flags%2f&amp;title=Reducing%20technical%20debt%20from%20feature%20flags&amp;summary=Reducing%20technical%20debt%20from%20feature%20flags&amp;source=https%3a%2f%2fjoeyzheng.tech%2fposts%2freducing-technical-debt-from-feature-flags%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reducing technical debt from feature flags on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fjoeyzheng.tech%2fposts%2freducing-technical-debt-from-feature-flags%2f&title=Reducing%20technical%20debt%20from%20feature%20flags"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reducing technical debt from feature flags on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fjoeyzheng.tech%2fposts%2freducing-technical-debt-from-feature-flags%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reducing technical debt from feature flags on whatsapp" href="https://api.whatsapp.com/send?text=Reducing%20technical%20debt%20from%20feature%20flags%20-%20https%3a%2f%2fjoeyzheng.tech%2fposts%2freducing-technical-debt-from-feature-flags%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reducing technical debt from feature flags on telegram" href="https://telegram.me/share/url?text=Reducing%20technical%20debt%20from%20feature%20flags&amp;url=https%3a%2f%2fjoeyzheng.tech%2fposts%2freducing-technical-debt-from-feature-flags%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reducing technical debt from feature flags on ycombinator" href="https://news.ycombinator.com/submitlink?t=Reducing%20technical%20debt%20from%20feature%20flags&u=https%3a%2f%2fjoeyzheng.tech%2fposts%2freducing-technical-debt-from-feature-flags%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://joeyzheng.tech/>黄庄以北</a></span> ·
<span><img src="https://count.getloli.com/@joey5403.blog?name=joey5403.blog&theme=sketch-2&padding=7&offset=0&align=top&scale=1&pixelated=1&darkmode=auto">
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><br></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></body></html>